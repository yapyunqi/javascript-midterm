<!DOCTYPE html>
<html>
  <head>
    <!--stylesheet imports-->
    <link rel="stylesheet" href="css/leaflet.css" />
  </head>
  <body>
    <!--left panel-->
    <div style="position:fixed;left:0px;width:400px">
    </div>
    <!--map-->
    <div id="map" style="position:fixed;right:0px;left:400px;height:100%;">
    </div>

    <!--javascript imports-->
    <script src="js/jquery-2.2.0.js"></script>
    <script src="js/underscore.js"></script>
    <script src="js/leaflet.js"></script>

    <!--leaflet settings-->
    <script>
      var map = L.map('map', {
        center: [39.9522, -75.1639],
        zoom: 14
      });
      var Stamen_TonerLite = L.tileLayer('http://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}', {
        attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
        subdomains: 'abcd',
        minZoom: 0,
        maxZoom: 20,
        ext: 'png'
      }).addTo(map);
    </script>

    <!--loading my data-->
    <script>
      var promise = $.ajax('https://raw.githubusercontent.com/yapyunqi/javascript-midterm/master/data.geojson?token=ALGWDFWD7Z574MOBYWAQHQK6QYX34');
      promise.done(console.log); // this prints it in json form

      var unparsed; // converting to csv
      promise.done(x=> unparsed = x); // saving the json as a new variable 'unparsed'
      parsed = JSON.parse(unparsed); // parsing 'unparsed'
      console.log(parsed);
    </script>
